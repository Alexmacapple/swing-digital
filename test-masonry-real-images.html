<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Masonry - Images R√©elles Page 3</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            margin-bottom: 10px;
            color: #333;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
            font-size: 14px;
        }

        .layout-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .layout-block {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .layout-header {
            background: #2c3e50;
            color: white;
            padding: 15px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .badge {
            background: #27ae60;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }

        .badge.danger {
            background: #e74c3c;
        }

        .gallery-container {
            padding: 15px;
            min-height: 600px;
            background: white;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            overflow-y: auto;
        }

        /* ============================================================
           SOLUTION 1: CSS COLUMNS
           ============================================================ */
        .gallery-columns {
            width: 100%;
            column-count: 1;
            column-gap: 0;
        }

        .gallery-columns img {
            width: 100%;
            height: auto;
            display: block;
            margin-bottom: 0;
            break-inside: avoid;
        }

        /* ============================================================
           SOLUTION 2: CSS GRID DENSE (ACTUEL - MAUVAIS)
           ============================================================ */
        .gallery-grid-dense {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0;
            auto-rows: 120px;
            grid-auto-flow: dense;
            width: 100%;
        }

        .gallery-grid-dense img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .gallery-grid-dense img:nth-child(1) {
            grid-row: span 2;
            grid-column: span 1;
        }

        .gallery-grid-dense img:nth-child(2) {
            grid-row: span 1;
            grid-column: span 1;
        }

        .gallery-grid-dense img:nth-child(3) {
            grid-row: span 2;
            grid-column: span 2;
        }

        .gallery-grid-dense img:nth-child(4) {
            grid-row: span 1;
            grid-column: span 1;
        }

        .gallery-grid-dense img:nth-child(5) {
            grid-row: span 2;
            grid-column: span 2;
        }

        .specs {
            background: #ecf0f1;
            padding: 15px;
            font-size: 12px;
            line-height: 1.6;
            color: #2c3e50;
            font-family: 'Courier New', monospace;
        }

        .specs strong {
            display: block;
            margin-top: 10px;
            color: #000;
        }

        .specs strong:first-child {
            margin-top: 0;
        }

        .controls {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .controls h3 {
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .toggle-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        button {
            padding: 8px 16px;
            border: 1px solid #ccc;
            border-radius: 4px;
            background: white;
            color: #333;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        button:hover {
            background: #f0f0f0;
        }

        button.active {
            background: #2c3e50;
            color: white;
            border-color: #2c3e50;
        }

        .info-box {
            background: #e8f4f8;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }

        .info-box strong {
            color: #2c3e50;
        }

        @media (max-width: 1024px) {
            .layout-comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Test Masonry - Images R√©elles Page 3</h1>
        <p class="subtitle">5 images r√©elles du projet avec comparaison des layouts ‚Ä¢ Scroll pour voir comportement complet</p>

        <div class="controls">
            <h3>Contr√¥les</h3>
            <div class="toggle-group">
                <button class="active" onclick="scrollElement(0)">Voir Solution 1 (Columns)</button>
                <button onclick="scrollElement(1)">Voir Solution 2 (Grid Dense - Mauvais)</button>
            </div>
            <div class="info-box">
                <strong>üí° Astuce:</strong> Compare les deux layouts. La Solution 1 n'a aucun blanc au bas, la Solution 2 en a.
            </div>
        </div>

        <div class="layout-comparison">
            <!-- SOLUTION 1: CSS COLUMNS (BONNE) -->
            <div class="layout-block">
                <div class="layout-header">
                    Solution 1: CSS Columns
                    <span class="badge">BONNE</span>
                </div>
                <div class="gallery-container" id="container-0">
                    <div class="gallery-columns">
                        <img src="./src/img/pages/page-3/page-3-image-1.jpg" alt="Image 1 - Page 3">
                        <img src="./src/img/pages/page-3/page-3-image-2.jpg" alt="Image 2 - Page 3">
                        <img src="./src/img/pages/page-3/page-3-image-3.jpg" alt="Image 3 - Page 3">
                        <img src="./src/img/pages/page-3/page-3-image-4.jpg" alt="Image 4 - Page 3">
                        <img src="./src/img/pages/page-3/page-3-image-5.jpg" alt="Image 5 - Page 3">
                    </div>
                </div>
                <div class="specs">
                    <strong>CSS:</strong>
                    display: grid;<br>
                    grid-template-columns: 1fr;<br>
                    column-count: 1;<br>
                    column-gap: 0;<br>
                    <strong>height:</strong> auto (CLEF!)<br>
                    <strong>R√©sultat:</strong> Z√©ro blanc, images fluides
                </div>
            </div>

            <!-- SOLUTION 2: GRID DENSE (MAUVAISE) -->
            <div class="layout-block">
                <div class="layout-header">
                    Solution 2: Grid Dense (Actuelle)
                    <span class="badge danger">MAUVAISE</span>
                </div>
                <div class="gallery-container" id="container-1">
                    <div class="gallery-grid-dense">
                        <img src="./src/img/pages/page-3/page-3-image-1.jpg" alt="Image 1 - Page 3">
                        <img src="./src/img/pages/page-3/page-3-image-2.jpg" alt="Image 2 - Page 3">
                        <img src="./src/img/pages/page-3/page-3-image-3.jpg" alt="Image 3 - Page 3">
                        <img src="./src/img/pages/page-3/page-3-image-4.jpg" alt="Image 4 - Page 3">
                        <img src="./src/img/pages/page-3/page-3-image-5.jpg" alt="Image 5 - Page 3">
                    </div>
                </div>
                <div class="specs">
                    <strong>CSS:</strong>
                    display: grid;<br>
                    grid-template-columns: repeat(3, 1fr);<br>
                    auto-rows: 120px; ‚Üê PROBL√àME!<br>
                    grid-auto-flow: dense;<br>
                    <strong>R√©sultat:</strong> Espace blanc en bas, images forc√©es
                </div>
            </div>
        </div>

        <!-- GUIDE DE MISE EN ≈íUVRE -->
        <div style="background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 30px;">
            <h2 style="margin-bottom: 20px; color: #2c3e50;">Impl√©mentation: √âtapes √† Suivre</h2>

            <h3 style="margin-top: 25px; margin-bottom: 15px; color: #2c3e50;">√âtape 1: Identifier tes images</h3>
            <p style="margin-bottom: 15px; color: #555;">
                ‚úì Tu as 5 images dans <code>/src/img/pages/page-3/page-3-image-1.jpg</code> √† <code>page-3-image-5.jpg</code>
            </p>

            <h3 style="margin-top: 25px; margin-bottom: 15px; color: #2c3e50;">√âtape 2: Modifier le CSS</h3>
            <p style="margin-bottom: 10px; color: #555;"><strong>Fichier √† modifier:</strong> <code>src/css/style.css</code></p>
            <p style="margin-bottom: 15px; color: #555;"><strong>Section:</strong> <code>.page3__gallery</code> (ligne 1230)</p>

            <p style="margin-bottom: 10px; color: #333; font-weight: bold;">Remplacer:</p>
            <pre style="background: #f5f5f5; padding: 15px; border-radius: 4px; margin-bottom: 15px; overflow-x: auto;"><code>.page3__gallery {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0px;
    width: 100%;
    auto-rows: 120px;
    grid-auto-flow: dense;
}</code></pre>

            <p style="margin-bottom: 10px; color: #333; font-weight: bold;">Par:</p>
            <pre style="background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 4px; margin-bottom: 15px; overflow-x: auto;"><code>.page3__gallery {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0px;
    width: 100%;
    column-count: 1;
    column-gap: 0;
}

.page3__gallery-image {
    width: 100%;
    height: auto;          /* ‚Üê CLEF! Auto, pas 120px */
    object-fit: cover;
    display: block;
    break-inside: avoid;   /* √âvite rupture image */
}

/* Supprimer les anciens :nth-child spans */
/* .page3__gallery-image:nth-child(1) { ... }
   .page3__gallery-image:nth-child(2) { ... }
   etc. - Ces regles ne sont plus n√©cessaires */</code></pre>

            <h3 style="margin-top: 25px; margin-bottom: 15px; color: #2c3e50;">√âtape 3: V√©rifier le r√©sultat</h3>
            <ul style="margin-left: 20px; margin-bottom: 20px; color: #555; line-height: 1.8;">
                <li>Ouvrir le navigateur sur la page 3</li>
                <li>Scroller jusqu'au bas de la galerie</li>
                <li><strong>V√©rifier:</strong> Aucun blanc blanc apr√®s la derni√®re image</li>
                <li><strong>V√©rifier:</strong> Les images se touchent parfaitement</li>
                <li><strong>V√©rifier:</strong> Responsive sur mobile (redimensionne correctement)</li>
            </ul>

            <h3 style="margin-top: 25px; margin-bottom: 15px; color: #2c3e50;">√âtape 4 (Optionnel): Multi-colonnes</h3>
            <p style="margin-bottom: 10px; color: #555;">Si tu veux 2-3 colonnes later:</p>
            <pre style="background: #f5f5f5; padding: 15px; border-radius: 4px; margin-bottom: 15px; overflow-x: auto;"><code>.page3__gallery {
    column-count: 2;  /* ou 3 */
    column-gap: 0;
}</code></pre>

            <h3 style="margin-top: 25px; margin-bottom: 15px; color: #2c3e50;">R√©sum√©: Avant vs Apr√®s</h3>
            <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px;">
                <tr style="background: #ecf0f1;">
                    <th style="padding: 10px; border: 1px solid #bbb; text-align: left;">Aspect</th>
                    <th style="padding: 10px; border: 1px solid #bbb; text-align: left;">Avant (Mauvais)</th>
                    <th style="padding: 10px; border: 1px solid #bbb; text-align: left;">Apr√®s (Bon)</th>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #bbb;">Espace blanc vertical</td>
                    <td style="padding: 10px; border: 1px solid #bbb;"><span style="color: #e74c3c;">‚úó OUI (20-40px)</span></td>
                    <td style="padding: 10px; border: 1px solid #bbb;"><span style="color: #27ae60;">‚úì NON (z√©ro)</span></td>
                </tr>
                <tr style="background: #f9f9f9;">
                    <td style="padding: 10px; border: 1px solid #bbb;">Hauteurs images</td>
                    <td style="padding: 10px; border: 1px solid #bbb;">Fixe 120px</td>
                    <td style="padding: 10px; border: 1px solid #bbb;">Dynamiques (auto)</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border: 1px solid #bbb;">Proportions</td>
                    <td style="padding: 10px; border: 1px solid #bbb;">D√©form√©es (crop)</td>
                    <td style="padding: 10px; border: 1px solid #bbb;">Naturelles</td>
                </tr>
                <tr style="background: #f9f9f9;">
                    <td style="padding: 10px; border: 1px solid #bbb;">Responsive</td>
                    <td style="padding: 10px; border: 1px solid #bbb;">Complexe (spans)</td>
                    <td style="padding: 10px; border: 1px solid #bbb;">Automatique</td>
                </tr>
            </table>
        </div>

        <div style="background: #e8f4f8; border-left: 4px solid #3498db; padding: 20px; border-radius: 8px;">
            <strong>Questions Fr√©quentes</strong><br>
            <ul style="margin-left: 20px; margin-top: 10px; color: #2c3e50; line-height: 1.8;">
                <li><strong>Q: Pourquoi `height: auto`?</strong> A: Permet √† chaque image de prendre sa hauteur naturelle. Fixe cr√©e du blanc.</li>
                <li><strong>Q: Comment passer √† 2-3 colonnes?</strong> A: Change juste `column-count: 2` ou `3`. Automatique!</li>
                <li><strong>Q: Et les spans nth-child()?</strong> A: Pas n√©cessaires avec CSS Columns. √Ä supprimer pour √©viter conflit.</li>
                <li><strong>Q: Mobile: comment √ßa marche?</strong> A: Responsive auto. Sur petit √©cran, utilise @media pour ajuster `column-count`.</li>
            </ul>
        </div>
    </div>

    <script>
        function scrollElement(index) {
            const containers = document.querySelectorAll('.gallery-container');
            const buttons = document.querySelectorAll('button');

            // Update buttons
            buttons.forEach((btn, i) => {
                if (i < 2) {
                    if (i === index) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                }
            });

            // Scroll to container
            const container = containers[index];
            if (container) {
                container.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        }
    </script>
</body>
</html>
