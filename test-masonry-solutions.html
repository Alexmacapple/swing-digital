<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comparaison Masonry Layouts - CSS Grid vs CSS Columns</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            margin-bottom: 10px;
            color: #333;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 40px;
            font-size: 14px;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        .solution {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .solution__header {
            background: #2c3e50;
            color: white;
            padding: 15px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .badge {
            background: #27ae60;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }

        .badge.warning {
            background: #f39c12;
        }

        .badge.danger {
            background: #e74c3c;
        }

        .solution__content {
            padding: 15px;
            height: 600px;
            overflow-y: auto;
            background: white;
        }

        /* ============================================================
           SOLUTION 1: CSS COLUMNS (RECOMMANDÉE)
           ============================================================ */
        .gallery-columns {
            column-count: 1;
            column-gap: 0;
        }

        .gallery-columns img {
            width: 100%;
            height: auto;
            display: block;
            margin-bottom: 0;
            break-inside: avoid;
        }

        /* ============================================================
           SOLUTION 2: CSS GRID DENSE (ACTUEL)
           ============================================================ */
        .gallery-grid-dense {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0;
            auto-rows: 120px;
            grid-auto-flow: dense;
        }

        .gallery-grid-dense img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .gallery-grid-dense img:nth-child(1) {
            grid-row: span 2;
            grid-column: span 1;
        }

        .gallery-grid-dense img:nth-child(2) {
            grid-row: span 1;
            grid-column: span 1;
        }

        .gallery-grid-dense img:nth-child(3) {
            grid-row: span 2;
            grid-column: span 2;
        }

        .gallery-grid-dense img:nth-child(4) {
            grid-row: span 1;
            grid-column: span 1;
        }

        .gallery-grid-dense img:nth-child(5) {
            grid-row: span 2;
            grid-column: span 2;
        }

        /* ============================================================
           SOLUTION 3: CSS GRID AUTO-ROWS DYNAMIQUE
           ============================================================ */
        .gallery-grid-auto {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0;
            auto-rows: auto;
            grid-auto-flow: dense;
        }

        .gallery-grid-auto img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .gallery-grid-auto img:nth-child(1) {
            grid-row: span 2;
            grid-column: span 1;
        }

        .gallery-grid-auto img:nth-child(2) {
            grid-row: span 1;
            grid-column: span 1;
        }

        .gallery-grid-auto img:nth-child(3) {
            grid-row: span 2;
            grid-column: span 2;
        }

        .gallery-grid-auto img:nth-child(4) {
            grid-row: span 1;
            grid-column: span 1;
        }

        .gallery-grid-auto img:nth-child(5) {
            grid-row: span 2;
            grid-column: span 2;
        }

        /* Images de test colorées */
        .test-img {
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 18px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .img-1 { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .img-2 { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .img-3 { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .img-4 { background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%); }
        .img-5 { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }

        .specs {
            background: #ecf0f1;
            padding: 15px;
            margin-top: 15px;
            border-radius: 4px;
            font-size: 12px;
            line-height: 1.6;
            color: #2c3e50;
            font-family: 'Courier New', monospace;
        }

        .specs strong {
            display: block;
            margin-top: 10px;
            color: #000;
        }

        .specs strong:first-child {
            margin-top: 0;
        }

        @media (max-width: 1200px) {
            .comparison {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 768px) {
            .comparison {
                grid-template-columns: 1fr;
            }

            .solution__content {
                height: 400px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Masonry Layouts: Comparaison des 3 Solutions</h1>
        <p class="subtitle">Chaque solution teste avec 5 images de proportions différentes • Scroll pour voir le comportement complet</p>

        <div class="comparison">
            <!-- SOLUTION 1: CSS COLUMNS -->
            <div class="solution">
                <div class="solution__header">
                    Solution 1: CSS Columns
                    <span class="badge">RECOMMANDÉE</span>
                </div>
                <div class="solution__content">
                    <div class="gallery-columns">
                        <div class="test-img img-1" style="height: 240px;">Image 1 (240px)</div>
                        <div class="test-img img-2" style="height: 120px;">Image 2 (120px)</div>
                        <div class="test-img img-3" style="height: 240px;">Image 3 (240px)</div>
                        <div class="test-img img-4" style="height: 120px;">Image 4 (120px)</div>
                        <div class="test-img img-5" style="height: 240px;">Image 5 (240px)</div>
                    </div>
                </div>
                <div class="specs">
                    <strong>CSS:</strong>
                    column-count: 1;<br>
                    column-gap: 0;<br>
                    <strong>Avantages:</strong>
                    ✓ Zéro espace blanc<br>
                    ✓ Remplissage vertical optimal<br>
                    ✓ Images au ratio naturel<br>
                    ✓ Responsive facile<br>
                    <strong>Inconvénients:</strong>
                    ✗ Moins flexible pour multi-col<br>
                    ✗ Ordre vertical (top-bottom)
                </div>
            </div>

            <!-- SOLUTION 2: CSS GRID DENSE (ACTUEL) -->
            <div class="solution">
                <div class="solution__header">
                    Solution 2: Grid Dense (Actuelle)
                    <span class="badge danger">PROBLÈME</span>
                </div>
                <div class="solution__content">
                    <div class="gallery-grid-dense">
                        <div class="test-img img-1">Image 1 (2×1)</div>
                        <div class="test-img img-2">Image 2 (1×1)</div>
                        <div class="test-img img-3">Image 3 (2×2)</div>
                        <div class="test-img img-4">Image 4 (1×1)</div>
                        <div class="test-img img-5">Image 5 (2×2)</div>
                    </div>
                </div>
                <div class="specs">
                    <strong>CSS:</strong>
                    display: grid;<br>
                    grid-template-columns: repeat(3, 1fr);<br>
                    auto-rows: 120px;<br>
                    grid-auto-flow: dense;<br>
                    <strong>Avantages:</strong>
                    ✓ Contrôle précis des spans<br>
                    ✓ Multi-colonne possible<br>
                    <strong>Inconvénients:</strong>
                    ✗ Espace blanc en bas<br>
                    ✗ auto-rows fixe pas adapté<br>
                    ✗ Difficulté responsive
                </div>
            </div>

            <!-- SOLUTION 3: CSS GRID AUTO -->
            <div class="solution">
                <div class="solution__header">
                    Solution 3: Grid Auto (Alternative)
                    <span class="badge warning">BON</span>
                </div>
                <div class="solution__content">
                    <div class="gallery-grid-auto">
                        <div class="test-img img-1">Image 1 (2×1)</div>
                        <div class="test-img img-2">Image 2 (1×1)</div>
                        <div class="test-img img-3">Image 3 (2×2)</div>
                        <div class="test-img img-4">Image 4 (1×1)</div>
                        <div class="test-img img-5">Image 5 (2×2)</div>
                    </div>
                </div>
                <div class="specs">
                    <strong>CSS:</strong>
                    display: grid;<br>
                    grid-template-columns: repeat(3, 1fr);<br>
                    auto-rows: auto; ← KEY<br>
                    grid-auto-flow: dense;<br>
                    <strong>Avantages:</strong>
                    ✓ Hauteurs dynamiques<br>
                    ✓ Meilleur remplissage<br>
                    ✓ Garde le contrôle spans<br>
                    <strong>Inconvénients:</strong>
                    ✗ Encore quelques espaces<br>
                    ✗ Dépend des images
                </div>
            </div>
        </div>

        <div style="background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <h2 style="margin-bottom: 20px; color: #2c3e50;">Recommandation: CSS Columns</h2>
            <p style="margin-bottom: 15px; line-height: 1.8; color: #333;">
                <strong>Pour ta page 3 (colonne de 62%),</strong> CSS Columns est la solution idéale car:
            </p>
            <ul style="margin-left: 20px; margin-bottom: 20px; color: #555; line-height: 1.8;">
                <li><strong>Zéro blanc vertical:</strong> Images se suivent parfaitement, aucun espace inutile</li>
                <li><strong>Ratio naturel:</strong> Les images gardent leur rapport hauteur/largeur sans déformation</li>
                <li><strong>Fluide:</strong> Chaque image prend la hauteur qu'elle nécessite</li>
                <li><strong>Responsive facile:</strong> Fonctionne sur mobile et desktop sans besoin de spans fixes</li>
                <li><strong>Multi-colonnes scalable:</strong> Si tu veux passer à 2-3 colonnes, change juste <code>column-count</code></li>
            </ul>

            <h3 style="margin-bottom: 15px; color: #2c3e50;">Code CSS Final Recommandé:</h3>
            <pre style="background: #2c3e50; color: #ecf0f1; padding: 20px; border-radius: 4px; overflow-x: auto;"><code>.page3__gallery {
    display: grid;
    grid-template-columns: 1fr;
    gap: 0px;
    width: 100%;
    column-count: 1;
    column-gap: 0;
}

.page3__gallery-image {
    width: 100%;
    height: auto;
    object-fit: cover;
    display: block;
    break-inside: avoid;
}</code></pre>

            <h3 style="margin-bottom: 15px; margin-top: 30px; color: #2c3e50;">Fallback Grid (si colonnes multi requises):</h3>
            <pre style="background: #2c3e50; color: #ecf0f1; padding: 20px; border-radius: 4px; overflow-x: auto;"><code>.page3__gallery {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0px;
    auto-rows: auto;  /* ← Dynamique, pas 120px fixe! */
    grid-auto-flow: dense;
}

.page3__gallery-image {
    width: 100%;
    height: auto;
    object-fit: cover;
    break-inside: avoid;
}</code></pre>

            <h3 style="margin-bottom: 15px; margin-top: 30px; color: #2c3e50;">Calcul des hauteurs (IMPORTANT):</h3>
            <p style="color: #555; margin-bottom: 15px;">
                Avec CSS Columns ou Grid auto, <strong>ne force JAMAIS les hauteurs</strong>. Laisse les images dicter leur hauteur:
            </p>
            <pre style="background: #2c3e50; color: #ecf0f1; padding: 20px; border-radius: 4px; overflow-x: auto;"><code>/* ✗ MAUVAIS - Crée du blanc */
.page3__gallery-image {
    height: 120px;  /* FIXE = espace blanc! */
}

/* ✓ BON - Images fluides */
.page3__gallery-image {
    height: auto;   /* Dynamique selon l'image */
    object-fit: cover;
}</code></pre>
        </div>
    </div>
</body>
</html>
