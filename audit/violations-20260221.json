{
  "audit": {
    "date": "2026-02-21",
    "application": "/Users/alex/Claude/active/swing-digital/src/index.html",
    "wcagLevel": "AA",
    "score": 72,
    "scoreMax": 100,
    "status": "NON_CONFORME"
  },
  "summary": {
    "totalViolations": 6,
    "critical": 1,
    "serious": 2,
    "moderate": 2,
    "minor": 1,
    "estimatedEffortHours": 0.75
  },
  "violations": [
    {
      "id": "V1",
      "severity": "CRITICAL",
      "wcagCriteria": "1.3.1",
      "wcagLevel": "A",
      "title": "Hiérarchie de titres incohérente",
      "description": "Un <h2>Swing Digital</h2> suit immédiatement un <h2>Qui sommes nous</h2>. Cette h2 devrait être h3.",
      "lines": [164],
      "file": "src/index.html",
      "affectedElements": 1,
      "impact": "Rupture de structure documentaire pour utilisateurs de lecteur d'écran",
      "effort_minutes": 1,
      "fix": {
        "before": "<h2>Swing<br>Digital</h2>",
        "after": "<h3>Swing<br>Digital</h3>"
      }
    },
    {
      "id": "V2",
      "severity": "SERIOUS",
      "wcagCriteria": "1.4.3",
      "wcagLevel": "AA",
      "title": "Contraste insuffisant",
      "description": "Texte blanc sur fond coral/red/gold ne respecte pas le ratio 4.5:1",
      "file": "src/css/style.css",
      "lines": [107, 108, 109, 110, 113],
      "affectedElements": 3,
      "impact": "Illisibilité pour utilisateurs malvoyants",
      "effort_minutes": 5,
      "colorIssues": [
        {
          "color": "#C85A4E",
          "name": "coral",
          "currentRatio": "3.2:1",
          "requiredRatio": "4.5:1",
          "fix": "#A54639"
        },
        {
          "color": "#B71C1C",
          "name": "red",
          "currentRatio": "3.0:1",
          "requiredRatio": "4.5:1",
          "fix": "#8B1414"
        },
        {
          "color": "#CC8C00",
          "name": "gold",
          "currentRatio": "3.8:1",
          "requiredRatio": "4.5:1",
          "fix": "#996600"
        }
      ]
    },
    {
      "id": "V3",
      "severity": "SERIOUS",
      "wcagCriteria": "2.4.6",
      "wcagLevel": "AA",
      "title": "Titres sans contexte descriptif",
      "description": "Cartes d'expériences manquent de descriptions complètes pour lecteur d'écran",
      "file": "src/index.html",
      "lines": [333, 340, 347, 354, 361, 369, 376, 383],
      "affectedElements": 8,
      "impact": "Contexte réduit pour utilisateurs mal-voyants",
      "effort_minutes": 10,
      "fix": {
        "type": "Enrichir alt attribute",
        "example": "alt=\"L'Expérience Monroe - Récit transmédia autour de l'autobiographie de Marilyn Monroe\""
      }
    },
    {
      "id": "V4",
      "severity": "MODERATE",
      "wcagCriteria": "2.4.7",
      "wcagLevel": "AA",
      "title": "Focus visible insuffisant",
      "description": "Outline de focus peu visible sur cartes d'expériences",
      "file": "src/css/style.css",
      "affectedElements": 8,
      "impact": "Navigation au clavier inconfortable",
      "effort_minutes": 2,
      "fix": {
        "type": "Add CSS rule",
        "rule": ".experience-card:focus-visible { outline: 3px solid var(--color-coral); outline-offset: 2px; }"
      }
    },
    {
      "id": "V5",
      "severity": "MODERATE",
      "wcagCriteria": "3.2.4",
      "wcagLevel": "AA",
      "title": "Langue actuelle non identifiée",
      "description": "Liens FR/EN n'indiquent pas quelle langue est sélectionnée",
      "file": "src/index.html",
      "lines": [43],
      "affectedElements": 2,
      "impact": "Confusion utilisateur sur la langue actuelle",
      "effort_minutes": 2,
      "fix": {
        "type": "Add aria-current",
        "before": "<a href=\"#\" aria-label=\"Français\">FR</a>",
        "after": "<a href=\"#\" aria-label=\"Français\" aria-current=\"page\">FR</a>"
      }
    },
    {
      "id": "V6",
      "severity": "MINOR",
      "wcagCriteria": "2.1.1",
      "wcagLevel": "A",
      "title": "Menu mobile non fermable au clavier",
      "description": "Touche Échap n'est pas gérée pour fermer le menu mobile",
      "file": "src/js/main.js",
      "affectedElements": 1,
      "impact": "Inconfort pour navigation au clavier",
      "effort_minutes": 5,
      "fix": {
        "type": "Add keyboard event handler",
        "code": "document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && mobileMenu.classList.contains('active')) { mobileMenu.classList.remove('active'); hamburger.setAttribute('aria-expanded', 'false'); } });"
      }
    }
  ],
  "passed": {
    "principles": {
      "perceptible": {
        "score": 4,
        "maxScore": 5,
        "percentage": 80,
        "criteria": [
          {
            "criterion": "1.1.1",
            "level": "A",
            "title": "Contenu non textuel",
            "status": "PASS",
            "notes": "167 images: 100% avec alt valides"
          },
          {
            "criterion": "1.3.1",
            "level": "A",
            "title": "Info et relations",
            "status": "FAIL_V1",
            "notes": "1 hiérarchie incohérente"
          },
          {
            "criterion": "1.4.3",
            "level": "AA",
            "title": "Contraste (minimum)",
            "status": "FAIL_V2",
            "notes": "3 couleurs en-dessous du ratio 4.5:1"
          },
          {
            "criterion": "1.4.12",
            "level": "AA",
            "title": "Espacement du texte",
            "status": "PASS",
            "notes": "Aucune règle ne bloque l'espacement utilisateur"
          }
        ]
      },
      "operable": {
        "score": 3,
        "maxScore": 4,
        "percentage": 75,
        "criteria": [
          {
            "criterion": "2.1.1",
            "level": "A",
            "title": "Clavier",
            "status": "FAIL_V6",
            "notes": "Échap non géré pour fermer menu"
          },
          {
            "criterion": "2.4.6",
            "level": "AA",
            "title": "En-têtes et libellés",
            "status": "FAIL_V3",
            "notes": "8 cartes manquent de contexte"
          },
          {
            "criterion": "2.4.7",
            "level": "AA",
            "title": "Focus visible",
            "status": "FAIL_V4",
            "notes": "Focus insuffisant sur cartes"
          }
        ]
      },
      "understandable": {
        "score": 2,
        "maxScore": 3,
        "percentage": 67,
        "criteria": [
          {
            "criterion": "3.1.1",
            "level": "A",
            "title": "Langue de la page",
            "status": "PASS",
            "notes": "Déclaré correctement (lang=\"fr\")"
          },
          {
            "criterion": "3.2.4",
            "level": "AA",
            "title": "Cohérence identification",
            "status": "FAIL_V5",
            "notes": "Langue actuelle non visible"
          }
        ]
      },
      "robust": {
        "score": 5,
        "maxScore": 5,
        "percentage": 100,
        "criteria": [
          {
            "criterion": "4.1.2",
            "level": "A",
            "title": "Nom, rôle, valeur",
            "status": "PASS",
            "notes": "29 attributs ARIA correctement utilisés"
          }
        ]
      }
    }
  },
  "recommendations": {
    "immediate": [
      "V1: Changer h2 en h3 ligne 164",
      "V2: Vérifier et corriger les ratios de contraste",
      "V3: Enrichir les descriptions alt des cartes"
    ],
    "shortTerm": [
      "Tester avec un lecteur d'écran réel (NVDA/JAWS/VoiceOver)",
      "Vérifier l'ordre complet du focus au clavier"
    ],
    "mediumTerm": [
      "Intégrer axe-core ou Lighthouse pour automatiser les tests",
      "Former l'équipe à WCAG 2.2"
    ]
  },
  "resources": {
    "wcag22": "https://www.w3.org/WAI/WCAG22/quickref/",
    "ariapractices": "https://www.w3.org/WAI/ARIA/apg/",
    "contrastchecker": "https://webaim.org/resources/contrastchecker/",
    "axedevtools": "https://www.deque.com/axe/devtools/"
  }
}
